---
title: "[React] 페이지 구현 - 일기 상세('/diary')"
excerpt: "[React] 페이지 구현 - 일기 상세('/diary')"
categories: [React]
tags: [React, WEB]
toc: true
toc_sticky: true
---

## 1️⃣ 선택 일기의 아이디에 맞는 링크 찾기

```js
import { useContext, useEffect, useState } from "react";
import { useNavigate, useParams } from "react-router-dom";
import { DiaryDispatchContext } from "../App";

const Diary = () => {
  const { id } = useParams();
  const diaryList = useContext(DiaryDispatchContext);
  const navigate = useNavigate();
  const [date, setDate] = useState();

  useEffect(() => {
    if (diaryList >= 1) {
      const targetDiary = diaryList.find(
        (it) => parseInt(it.id) === parseInt(id)
      );

      if (targetDiary) {
        setDate(targetDiary);
      } else {
        alert("없는 일기입니다.");
        navigate("/", { replace: true });
      }
    }
  }, [id, diaryList]);
  return <div></div>;
};

export default Diary;
```

해당 일기를 찾고, 그 targetDiary 가 있다면 setDate를 date로 내용을 바꾸고, 일기가 없다면 홈으로 이동시킨다.
