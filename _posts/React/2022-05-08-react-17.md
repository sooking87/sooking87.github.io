---
title: "[React] ìµœì í™” 1. useMemo"
excerpt: "[React] ìµœì í™” 1. useMemo"
categories: [React]
tags: [React, WEB]
toc: true
toc_sticky: true
---

## ğŸ”® Memoization

ì´ì „ì— í’€ì—ˆë˜ ë¬¸ì œì˜ ë‹µì„ ê¸°ì–µí•´ë‘” ë‹¤ìŒ ê°™ì€ ë¬¸ì œê°€ ë‚˜ì˜¨ë‹¤ë©´ ê¸°ì–µí•´ ë‘ì—ˆë˜ ë‹µì„ ë‹¤ì‹œ ì ëŠ” ë°©ë²•.
<br>

ì¦‰, ì—°ì‚° ê³¼ì • ìµœì í™” ê°€ëŠ¥!

## ğŸ”® ëª©í‘œ

1. emotion ì ìˆ˜ì— ë”°ë¥¸ ì¼ê¸° ê°œìˆ˜ ì¹´ìš´íŒ…
2. emotion ì ìˆ˜ ë¹„ìœ¨ ì¹´ìš´íŒ…

## ğŸ“ getDiaryAnalysis í•¨ìˆ˜ ë§Œë“¤ê¸°

```jsx
// App.js
const getDiaryAnalysis = () => {
  console.log("ì¼ê¸° ë¶„ì„ ì‹œì‘!");

  const goodCount = data.filter((it) => it.emotion >= 3).length;
  const badCount = data.length - goodCount;
  const goodRatio = (goodCount / data.length) * 100;
  return { goodCount, badCount, goodRatio };
};
```

- filter í•¨ìˆ˜ë¥¼ í†µí•´ì„œ 3ì´ìƒì´ë©´ "ê¸°ë¶„ì´ ì¢‹ë‹¤"ê³  íŒë‹¨. = goodCount
- ì „ì²´ ë°ì´í„° - goodCount = badCount
- goodRatio : goodCountì˜ ë¹„ìœ¨
- getDiaryAnalysis() : **_ê°ì²´ë¥¼ ë°˜í™˜_**

```jsx
// App.js
const { goodCount, badCount, goodRatio } = getDiaryAnalysis();

return (
  <div className="App">
    <DiaryEditor onCreate={onCreate} />
    <div>ì „ì²´ ì¼ê¸° : {data.length}</div>
    <div>ê¸°ë¶„ ì¢‹ì€ ì¼ê¸° ê°œìˆ˜ : {goodCount}</div>
    <div>ê¸°ë¶„ ë‚˜ìœ ì¼ê¸° ê°œìˆ˜ : {badCount}</div>
    <div>ê¸°ë¶„ ì¢‹ì€ ì¼ê¸° ë¹„ìœ¨ : {goodRatio}</div>
    <DiaryList onEdit={onEdit} diaryList={data} onRemove={onRemove} />
  </div>
);
```

ê°ì²´ë¥¼ ë°˜í™˜í•˜ëŠ” í•¨ìˆ˜ getDiaryAnalysis()ë¥¼ ê°ì²´ í˜•íƒœë¡œ ë°›ëŠ”ë‹¤. -> returnë¬¸ì— ì‚¬ìš©.
<br>
ì½˜ì†”ì°½ì— "ì¼ê¸° ë¶„ì„ ì‹œì‘" ì´ 2ë²ˆ ëœ¨ëŠ” ì´ìœ  <br>

ì œì¼ ì²˜ìŒ App ì»´í¬ë„ŒíŠ¸ê°€ ëœë”ë§ë  ë•Œ, useStateë¡œ ì¸í•´ì„œ ë¹ˆ ë°°ì—´ì´ ëœë”ë§ë˜ë©´ì„œ í•œ ë²ˆ, ê·¸ë¦¬ê³  getDataë¥¼ í†µí•´ì„œ ë°›ì€ ë°ì´í„°ë¥¼ ë¦¬ëœë”ë§í•  ë•Œ í•œ ë²ˆ ì´ 2 ë²ˆì´ ì‚¬ìš©ëœë‹¤.

### ğŸ“ Memoization í™œìš©

â“ ë¬¸ì œì  â“ <br>
ì¼ê¸°ë¥¼ ìˆ˜ì •í•˜ë©´ ë¦¬ëœë”ë§ì´ ë˜ëŠ”ë°, ì´ë•ŒëŠ” ê°ì • ì ìˆ˜ì™€ëŠ” ë¬´ê´€í•˜ë¯€ë¡œ ë¶ˆí•„ìš”í•˜ê²Œ ë¦¬ëœë”ë§ë˜ê³  ìˆë‹¤.

ğŸ’¡ í•´ê²°ì±… ğŸ’¡
ìµœì í™” 1. useMemo() ì‚¬ìš© -> HOW? : Memoization í•˜ê³ ì‹¶ì€ í•¨ìˆ˜ë¥¼ ê°ì‹¸ì£¼ë©´ ëœë‹¤.

```jsx
const getDiaryAnalysis = ìµœì í™” 1. useMemo(() => {
  console.log("ì¼ê¸° ë¶„ì„ ì‹œì‘!");

  const goodCount = data.filter((it) => it.emotion >= 3).length;
  const badCount = data.length - goodCount;
  const goodRatio = (goodCount / data.length) * 100;
  return { goodCount, badCount, goodRatio };
});

const { goodCount, badCount, goodRatio } = getDiaryAnalysis;
```

- ìµœì í™” 1. useMemo() í•¨ìˆ˜ì˜ ê°’ìœ¼ë¡œ ì „ë‹¬ -> useEffect() ì²˜ëŸ¼ depsê¹Œì§€ ì „ë‹¬(depsê°€ ë³€í•  ë•Œë§Œ í•¨ìˆ˜ í˜¸ì¶œ)
- ìµœì í™” 1. useMemo()ì˜ ì‚¬ìš©í•˜ê²Œ ë˜ë©´ getDiaryAnalysisëŠ” ë”ì´ìƒ í•¨ìˆ˜ê°€ ì•„ë‹ˆë‹¤. (useMemoì˜ êµ¬í˜„ë¶€ê°€ ë¦¬í„´í•˜ëŠ” **_ê°’_** ì„ ë¦¬í„´)
  <br>

ì´ ê³¼ì •ì„ Memoizationì´ë¼ê³  í•˜ê³  ì—°ì‚° ìµœì í™”ë¼ê³ ë„ í•œë‹¤.

## ğŸŒ— ê²°ê³¼

ê°ì • ì ìˆ˜ì— ë”°ë¼ ì¼ê¸° ê°œìˆ˜ ì¹´ìš´íŒ… ğŸ”½ <br>
ì¼ê¸° ë¶„ì„ ì‹œì‘ ê°œìˆ˜ ì˜ ë³´ê¸° <br>
![download1](https://user-images.githubusercontent.com/96654391/167287144-1ef46f64-9265-4d4f-b05e-687e935f5ff2.png) <br>
ì¼ê¸° ì¶”ê°€ = data.length ë³€í™” = getDiaryAnalysis ì‚¬ìš© = ì¼ê¸° ë¶„ì„ ì‹œì‘ ê°œìˆ˜ + 1 ğŸ”½ <br>
![download2](https://user-images.githubusercontent.com/96654391/167287145-b2b40828-41e5-4e89-89e2-78ed4093dd0e.png) <br>
ì¼ê¸° ìˆ˜ì • = data.length ë³€í™” X = useMemo() ë•Œë¬¸ì— êµ¬í˜„ë¶€ ì ìš© X = ì¼ê¸° ë¶„ì„ ì‹œì‘ ê°œìˆ˜ ë™ì¼ ğŸ”½ <br>
![download3](https://user-images.githubusercontent.com/96654391/167287148-f8fa22c6-6818-4918-a4d3-60d09d3740fa.png)
