---
title: "[React] ë¦¬ì•¡íŠ¸ì—ì„œ ë°ì´í„° ì‚­ì œí•˜ê¸°"
excerpt: "[React] ë¦¬ì•¡íŠ¸ì—ì„œ ë°ì´í„° ì‚­ì œí•˜ê¸°"
categories: [React]
tags: [React, WEB]
toc: true
toc_sticky: true
---

## ğŸ”® ì‚­ì œí•˜ê¸° ë²„íŠ¼ì€ ì–´ë–»ê²Œ êµ¬í˜„?

- hope : ì‚­ì œí•˜ê¸° ë²„íŠ¼ì„ ì¶œë ¥ë˜ëŠ” ì¼ê¸° ë¦¬ìŠ¤íŠ¸ í•˜ë‚˜ ë‹¹ ì œì¼ ì•„ë˜ì— ë¶€ë¶„ì— ë„£ê³  ì‹¶ë‹¤.
- í˜„ì¬ ì»´í¬ë„ŒíŠ¸ ê³„ì¸µ êµ¬ì¡° ìƒíƒœ
  - **App.js**
    - **DiarEditor.js** (ì¼ê¸°ë¥¼ ì…ë ¥ë°›ëŠ” ê³³)
    - **DiaryList.js** (ì €ì¥ í›„ ì¼ê¸° ë¦¬ìŠ¤íŠ¸ê°€ ì¶œë ¥ë  ê³³ì˜ ê³µê°„ì„ ì°¨ì§€, dataë“¤ì„ í•˜ë‚˜ì”© mapí•¨ìˆ˜ë¥¼ ì´ìš©í•´ì„œ DiaryItemìœ¼ë¡œ ì „ë‹¬)
      - **DiaryItem.js** (ì‹¤ì œ ì €ì¥ëœ ì¼ê¸° **í•˜ë‚˜** ë¥¼ ì¶œë ¥í•  ìˆ˜ ìˆëŠ” ê³³)

## ğŸ’¡ How? -> step 1. ì‚­ì œ ë²„íŠ¼ êµ¬í˜„í•˜ê¸°

### ğŸ“ DiaryItem.jsì— ë²„íŠ¼ êµ¬í˜„

```jsx
// DiaryItem.js
const DiaryItem = ({
  onDelete,
  author,
  content,
  created_date,
  emotion,
  id,
}) => {
  return (
    <div className="DiaryItem">
      <div className="info">
        <span>
          ì‘ì„±ì : {author} | ê°ì •ì ìˆ˜ : {emotion}
        </span>
        <br />
        <span className="date"> {new Date(created_date).toLocaleString()}</span>
      </div>
      <div className="content">{content}</div>
      <button
        onClick={() => {
          console.log(id);
        }}
      >
        ì‚­ì œí•˜ê¸°
      </button>
    </div>
  );
};

export default DiaryItem;
```

### ğŸ“ ì‚­ì œ ë²„íŠ¼ ë™ì‘í•˜ê¸°

ì´ ë²„íŠ¼ì´ ë™ì‘í•˜ê¸° ìœ„í•´ì„œëŠ” 1ï¸âƒ£ **App.js** ì—ì„œ **onDelete** í•¨ìˆ˜ë¥¼ êµ¬í˜„í•´ì„œ **DiaryList.js** ê¹Œì§€ ì „ë‹¬í•´ì£¼ê³ , 2ï¸âƒ£ **DiaryList.js** ì»´í¬ë„ŒíŠ¸ë¥¼ ê±°ì³ì„œ 3ï¸âƒ£ **DiaryItem.js** ê¹Œì§€ ì „ë‹¬ì´ ë˜ì–´ì•¼ í•œë‹¤.

- 1ï¸âƒ£ App.jsì—ì„œ DiaryListì— onDelete í•¨ìˆ˜ë¥¼ propìœ¼ë¡œ ì „ë‹¬

  ```jsx
  // App.js
  const onDelete = (targetId) => {
    console.log(targetId + "ê°€ ì‚­ì œë˜ì—ˆìŠµë‹ˆë‹¤.");
  };

  return (
    <div className="App">
      <DiaryEditor onCreate={onCreate} />
      <DiaryList diaryList={data} onDelete={onDelete} />
    </div>
  );
  ```

- 2ï¸âƒ£ í”„ë¡­ì„ ë§¤ê°œë³€ìˆ˜ë¥¼ í†µí•´ì„œ ì „ë‹¬ ë°›ê³ , ë‹¤ì‹œ DiaryItemìœ¼ë¡œ ì „ë‹¬

  ```jsx
  // DiaryList.js
  import DiaryItem from "./DiaryItem.js";

  const DiaryList = ({ diaryList, onDelete }) => {
    console.log(diaryList);
    return (
      <div className="DiaryList">
        <h2>ì¼ê¸° ë¦¬ìŠ¤íŠ¸</h2>
        <h4>{diaryList.length}ê°œì˜ ì¼ê¸°ê°€ ìˆìŠµë‹ˆë‹¤.</h4>
        <div>
        //dummyListì˜ í•˜ë‚˜ì˜ ê°ì²´ê°€ itë¡œ ë„˜ì–´ì˜´
          {diaryList.map(
            (
              it
            ) => (
              <DiaryItem key={it.id} {...it} onDelete={onDelete} />
            )
          )}
        </div>
      </div>
    );
  };

  //undefinedë¡œ ì „ë‹¬ë  ìˆ˜ ìˆëŠ” ê°’ë“¤ì˜ ê¸°ë³¸ê°’ì„ ì„¤ì •
  DiaryList.defaultProps = {
    diaryList: [],
  };

  export default DiaryList;
  ```

- 3ï¸âƒ£ ì „ë‹¬ ë°›ì€ onDelete í•¨ìˆ˜ë¥¼ ì‚¬ìš©

  ```jsx
  // DiaryItem.js
  const DiaryItem = ({
    onDelete,
    author,
    content,
    created_date,
    emotion,
    id,
  }) => {
    return (
      <div className="DiaryItem">
        <div className="info">
          <span>
            ì‘ì„±ì : {author} | ê°ì •ì ìˆ˜ : {emotion}
          </span>
          <br />
          <span className="date">
            {" "}
            {new Date(created_date).toLocaleString()}
          </span>
        </div>
        <div className="content">{content}</div>
        <button
          onClick={() => {
            console.log(id);
            //window.confirmì€ alertì²˜ëŸ¼ ëœ¨ì§€ë§Œ ë°‘ì— í™•ì¸, ì·¨ì†Œ ë²„íŠ¼ì´ ê°™ì´ ëœ¬ë‹¤.
            if (window.confirm(`${id}ë²ˆ ì§¸ ì¼ê¸°ë¥¼ ì‚­ì œí•˜ì‹œê² ìŠµë‹ˆê¹Œ?`)) {
              onDelete(id); // ì§€ìš¸ idë¥¼ ê°€ì§€ê³  onDelete í•¨ìˆ˜ í˜¸ì¶œ -> App.jsì— idê°’ ì „ë‹¬
            }
          }}
        >
          ì‚­ì œí•˜ê¸°
        </button>
      </div>
    );
  };

  export default DiaryItem;
  ```

â–¶ï¸ ì—¬ê¸°ê¹Œì§€ í–ˆë‹¤ë©´, ë¬´ìŠ¨ ì¼ê¸°ë¥¼ ì‚­ì œí•  ì§€, idë¥¼ ë°›ì•„ì˜´ -> ì‹¤ì œ ì›¹ í˜ì´ì§€ì—ì„œëŠ” ì‚­ì œ X. ì™œ? setData í•¨ìˆ˜ì—ì„œ ëœë”ë§í•˜ëŠ” ë¦¬ìŠ¤íŠ¸ì— ì‚­ì œë˜ì–´ì•¼ í•  idê°€ ì „ë‹¬ë˜ì§€ ì•Šì•˜ìœ¼ë¯€ë¡œ dataì— ì „ë‹¬ë˜ëŠ” ê°’ì€ ì‚­ì œí•´ì•¼ë˜ëŠ” dataê¹Œì§€ ê·¸ëŒ€ë¡œ ì „ë‹¬ì´ ëœë‹¤.

## ğŸ’¡ How? -> step 2. ì‚­ì œë  ì•„ì´í…œ ë¹¼ê³  ëœë”ë§í•˜ê¸°

ì´ë¯¸ DiaryItem.jsì—ì„œ ì§€ìš¸ idê°’ì„ ê°€ì§€ê³  App.jsì— ìˆëŠ” í•¨ìˆ˜ë¥¼ í˜¸ì¶œí–ˆë‹¤. ê·¸ëŸ¬ë©´ ì—¬ê¸°ì„œ ê·¸ ì§€ìš¸ idë¥¼ ì œì™¸í•œ ë‚˜ë¨¸ì§€ idë¥¼ ê°€ì§€ê³  _newDiaryList_ ë¥¼ ë§Œë“¤ê³  newDiaryListë¥¼ setDataë¡œ ì „ë‹¬í•˜ì—¬ ìƒˆë¡œìš´ ë°ì´í„°ë¥¼ ë‹¤ì‹œ ëœë”ë§ í•œë‹¤.

- filter í•¨ìˆ˜ : ì£¼ì–´ì§„ í•¨ìˆ˜ì˜ í…ŒìŠ¤íŠ¸(í•¨ìˆ˜ êµ¬í˜„ë¶€)ë¥¼ í†µê³¼í•˜ëŠ” ëª¨ë“  ìš”ì†Œë¥¼ ëª¨ì•„ ìƒˆë¡œìš´ ë°°ì—´ë¡œ ë°˜í™˜í•©ë‹ˆë‹¤.

```jsx
// App.js
const onDelete = (targetId) => {
  const newDiaryList = data.filter((it) => it.id !== targetId);
  setData(newDiaryList);
};
```

ì´ í•¨ìˆ˜ì—ì„œëŠ” itì˜ idê°’ì´ targetIdì™€ ë‹¤ë¥¸ idê°’ë“¤ë§Œ newDiaryListë¡œ ë°˜í™˜ë˜ëŠ” ê²ƒì„ í™•ì¸í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤.

## ğŸŒ— ê²°ê³¼

![download1](https://user-images.githubusercontent.com/96654391/166208798-6829c85a-f162-4978-a689-bbd28c535518.png) <br>

> ì‚­ì œí•˜ê¸° ë²„íŠ¼ í´ë¦­ â¬‡ï¸ <br>

![download2](https://user-images.githubusercontent.com/96654391/166208802-bdb988a4-6662-4ce8-906b-11bce2062195.png) <br>

> ì‚­ì œí•˜ê¸° ì™„ë£Œ â¬‡ï¸ <br>

![download3](https://user-images.githubusercontent.com/96654391/166208809-60c397e3-b909-45f4-924b-d35e4e7fe804.png)
