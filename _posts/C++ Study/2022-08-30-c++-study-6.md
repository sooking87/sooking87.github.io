---
title: "[Chap 06] friendì™€ static ê·¸ë¦¬ê³  const"
excerpt: "[Chap 06] friendì™€ static ê·¸ë¦¬ê³  const"
categories: [C++ Programming]
tags: [C++ Programming, C++]
toc: true
toc_sticky: true
---

## constì™€ ê´€ë ¨í•´ì„œ ì•„ì§ ëª»ë‹¤í•œ ì´ì•¼ê¸°

### const ê°ì²´ì™€ const ê°ì²´ì˜ íŠ¹ì„±ë“¤

```cpp
#include <iostream>

class SoSimple
{
private:
    int num;

public:
    SoSimple(int n) : num(n)
    {
    }
    SoSimple &AddNum(int n)
    {
        num += n;
        return *this;
    }
    void ShowData() const
    {
        std::cout << "num: " << num << std::endl;
    }
};

int main()
{
    const SoSimple obj(7);
    obj.ShowData();
    return 0;
}

>>>
num: 7
```

const ê°ì²´ëŠ” const í•¨ìˆ˜ë§Œ í˜¸ì¶œì„ í•  ìˆ˜ ìˆë‹¤.

### const ì™€ í•¨ìˆ˜ ì˜¤ë²„ë¡œë”©

const ê°ì²´ëŠ” const í•¨ìˆ˜ë§Œ ì‚¬ìš©ì´ ê°€ëŠ¥í•˜ì§€ë§Œ ì¼ë°˜ í•¨ìˆ˜ì™€ const í•¨ìˆ˜ëŠ” ì„œë¡œ ì˜¤ë²„ë¡œë”©ì´ ê°€ëŠ¥í•˜ë‹¤. (ë°›ì„ ìˆ˜ ìˆëŠ” ë§¤ê°œ ë³€ìˆ˜ê°€ ê°™ë”ë¼ë„ ë‹¤ë¥¸ ê¸°ëŠ¥ì„ í•˜ë¯€ë¡œ! )

```cpp
#include <iostream>

class SoSimple
{
private:
    int num;

public:
    SoSimple(int n) : num(n)
    {
    }
    SoSimple &AddNum(int n)
    {
        num += n;
        return *this;
    }
    void SimpleFunc()
    {
        std::cout << "SimpleFunc: " << num << std::endl;
    }
    void SimpleFunc() const
    {
        std::cout << "const SimpleFunc: " << num << std::endl;
    }
};

void YourFunc(const SoSimple &obj)
{
    obj.SimpleFunc();
}

int main()
{
    SoSimple obj1(2);
    const SoSimple obj2(7);

    obj1.SimpleFunc();
    obj2.SimpleFunc();

    YourFunc(obj1);
    YourFunc(obj2);
    return 0;
}

>>>
SimpleFunc: 2
const SimpleFunc: 7
const SimpleFunc: 2
const SimpleFunc: 7
```

ìœ„ ì˜ˆì‹œë¥¼ ë³´ë©´ SimpleFuncëŠ” ì˜¤ë²„ ë¡œë”©ì´ ëœ ìƒíƒœì´ë‹¤. ì¼ë°˜ ê°ì²´ì¸ ê²½ìš°ëŠ” ì¼ë‹¨ SimpleFunc()ë¥¼ í˜¸ì¶œí•˜ì—¬ì„œ `SimpleFunc: 2` ê°€ ì¶œë ¥ì´ ë˜ì§€ë§Œ constê°€ ë¶™ì€ ê°ì²´ì¸ ê²½ìš°ì—ëŠ” const í•¨ìˆ˜ë¥¼ í˜¸ì¶œí•˜ì—¬ì„œ `const SimpleFunc: ` ê°€ ì¶œë ¥ì´ ë˜ëŠ” ê²ƒì´ë‹¤.

<br>

obj1 ê°™ì€ ê²½ìš°ëŠ” ì¼ë°˜ ê°ì²´ì§€ë§Œ YourFuncë¥¼ í†µí•´ì„œ ê²°êµ­ obj ê°€ const ê°ì²´ì´ê¸° ë•Œë¬¸ì— ê·¸ objì˜ SimpleFunc ëŠ” const í•¨ìˆ˜ì¸ ê²ƒì´ë‹¤.

## í´ë˜ìŠ¤ì™€ í•¨ìˆ˜ì— ëŒ€í•œ friend ì„ ì–¸

> ë„Œ ì˜¤ëŠ˜ë¶€í„° ë‚´ ì¹œêµ¬ì•¼ ! ã…‹ã…‹ã…‹ã…‹ã…‹ã…‹ã…‹ã…‹ã…‹ã…‹ã…‹

<br>

ë¼ëŠ” ëœ»,,,,

### í´ë˜ìŠ¤ì˜ friend ì„ ì–¸

A í´ë˜ìŠ¤ê°€ B í´ë˜ìŠ¤ë¥¼ ëŒ€ìƒìœ¼ë¡œ friend ì„ ì–¸ => B í´ë˜ìŠ¤ëŠ” A í´ë˜ìŠ¤ì˜ private ë©¤ë²„ì— ì§ì ‘ ì ‘ê·¼ ê°€ëŠ¥ <br>

ë°˜ëŒ€ë¡œ B í´ë˜ìŠ¤ê°€ A í´ë˜ìŠ¤ë¥¼ ëŒ€ìƒìœ¼ë¡œ friend ì„ ì–¸ => A í´ë˜ìŠ¤ëŠ” B í´ë˜ìŠ¤ì˜ private ë©¤ë²„ì— ì§ì ‘ ì ‘ê·¼ ê°€ëŠ¥

```cpp
#include <iostream>
#include <cstring>

class Girl; // Girlì´ë¼ëŠ” ì´ë¦„ì´ í´ë˜ìŠ¤ì˜ ì´ë¦„ì„ì„ ì•Œë¦¼

class Boy
{
private:
    int height;
    friend class Girl;

public:
    Boy(int len) : height(len)
    {
    }
    void ShowYourFriendInfo(Girl &frn);
};

class Girl
{
private:
    char phNum[20];

public:
    Girl(char *num)
    {
        strcpy(phNum, num);
    }
    void ShowYourFriendInfo(Boy &frn);
    friend class Boy;
};

void Boy::ShowYourFriendInfo(Girl &frn)
{
    std::cout << "Her phone number: " << frn.phNum << std::endl;
}

void Girl::ShowYourFriendInfo(Boy &frn)
{
    std::cout << "His height: " << frn.height << std::endl;
}

int main()
{
    Boy boy(170);
    Girl girl("010-3809-7668");
    boy.ShowYourFriendInfo(girl);
    girl.ShowYourFriendInfo(boy);
    return 0;
}

>>>
Her phone number: 010-3809-7668
His height: 170
```

privateì´ë‚˜ public ë‘˜ë‹¤ friend ì„ ì–¸ì´ ê°€ëŠ¥í•˜ë‹¤. ê·¸ë¦¬ê³  Boy í´ë˜ìŠ¤ì—ì„œ ë‚˜ì˜¤ëŠ” Girl ì´ë¼ëŠ” ê²ƒì´ í´ë˜ìŠ¤ì„ì„ ë¯¸ë¦¬ ì•Œë ¤ì•¼ í•œë‹¤. <br>

ì¶œë ¥ ê²°ê³¼ëŠ” ë³´ëŠ” ê²ƒ ì²˜ëŸ¼ private ë©¤ë²„ ë³€ìˆ˜ì„ì—ë„ í´ë˜ìŠ¤ë¼ë¦¬ ì ‘ê·¼ì´ ê°€ëŠ¥í•œ ê²ƒì„ í™•ì¸í•  ìˆ˜ ìˆë‹¤.

### friend ì„ ì–¸ì€ ì–¸ì œ?

friend ì„ ì–¸ì€ ì •ë³´ ì€ë‹‰ì„ ë¬´ë„ˆëœ¨ë¦¬ëŠ” ë¬¸ë²•ì´ë‹¤. ë”±íˆ íŠ¹ì • ë¶€ë¶„ì— ì‚¬ìš©í•œë‹¤ë¥¼ ë§í•  ìˆ˜ëŠ” ì—†ì§€ë§Œ friendë¥¼ ë‚¨ìš©í•˜ê²Œ ëœë‹¤ë©´ ìœ„í—˜í•  ìˆ˜ ìˆë‹¤.

### í•¨ìˆ˜ì˜ friend ì„ ì–¸

```cpp
#include <iostream>

class Point;

class PointOP
{
private:
    int opcnt;

public:
    PointOP() : opcnt(0)
    {
    }
    Point PointAdd(const Point &, const Point &);
    Point PointSub(const Point &, const Point &);
    ~PointOP()
    {
        std::cout << "Operation times: " << opcnt << std::endl;
    }
};

class Point
{
private:
    int x;
    int y;

public:
    Point(const int &xpos, const int &ypos) : x(xpos), y(ypos)
    {
    }
    friend Point PointOP::PointAdd(const Point &, const Point &);
    friend Point PointOP::PointSub(const Point &, const Point &);
    friend void ShowPointPos(const Point &);
};

Point PointOP::PointAdd(const Point &pnt1, const Point &pnt2)
{
    opcnt++;
    return Point(pnt1.x + pnt2.x, pnt1.y + pnt2.y);
}

Point PointOP::PointSub(const Point &pnt1, const Point &pnt2)
{
    opcnt++;
    return Point(pnt1.x - pnt2.x, pnt1.y - pnt2.y);
}

int main()
{
    Point pos1(1, 2);
    Point pos2(2, 4);
    PointOP op;

    ShowPointPos(op.PointAdd(pos1, pos2));
    ShowPointPos(op.PointSub(pos2, pos1));
    return 0;
}

void ShowPointPos(const Point &pos)
{
    std::cout << "x: " << pos.x << ", ";
    std::cout << "y: " << pos.y << std::endl;
}

>>>
x: 3, y: 6
x: 1, y: 2
Operation times: 2
```

## C++ì—ì„œì˜ static

```cpp
#include <iostream>

int simObjCnt = 0;
int cmxObjCnt = 0;

class SoSimple
{
public:
    SoSimple()
    {
        simObjCnt++;
        std::cout << simObjCnt << "ë²ˆì§¸ SoSimple ê°ì²´" << std::endl;
    }
};

class SoComplex
{
public:
    SoComplex()
    {
        cmxObjCnt++;
        std::cout << cmxObjCnt << "ë²ˆì§¸ SoComplex ê°ì²´" << std::endl;
    }
    SoComplex(SoComplex &copy)
    {
        cmxObjCnt++;
        std::cout << cmxObjCnt << "ë²ˆì§¸ SoComplex ê°ì²´" << std::endl;
    }
};

int main()
{
    SoSimple sim1;
    SoSimple sim2;

    SoComplex com1;
    SoComplex com2 = com1;
    SoComplex();

    return 0;
}

>>>
1ë²ˆì§¸ SoSimple ê°ì²´
2ë²ˆì§¸ SoSimple ê°ì²´
1ë²ˆì§¸ SoComplex ê°ì²´
2ë²ˆì§¸ SoComplex ê°ì²´
3ë²ˆì§¸ SoComplex ê°ì²´
```

ì˜ˆì‹œë¥¼ ë³´ë©´ simObjCnt ëŠ” SoSimple í´ë˜ìŠ¤ì—ì„œë§Œ ê³µìœ í•˜ëŠ” ë³€ìˆ˜ë¡œ ì‚¬ìš©ë˜ê³  ìˆê³  cmxObjCnt ëŠ” SoComplex í´ë˜ìŠ¤ì—ì„œë§Œ ê³µìœ í•˜ëŠ” ë³€ìˆ˜ë¡œ ì‚¬ìš©ë˜ê³  ìˆë‹¤. í•˜ì§€ë§Œ ê° í´ë˜ìŠ¤ì—ì„œë§Œ ì‚¬ìš©ë˜ë„ë¡ í•˜ëŠ” ê²ƒì´ ì•„ë‹Œ ì „ì—­ ë³€ìˆ˜ë¡œ ì‚¬ìš©ë˜ê³  ìˆìœ¼ë¯€ë¡œ ë¬¸ì œë¥¼ ì¼ìœ¼í‚¬ ì†Œì§€ê°€ ë§¤ìš° ë†’ë‹¤.

### static ë©¤ë²„ ë³€ìˆ˜

static ë©¤ë²„ ë³€ìˆ˜ëŠ” í´ë˜ìŠ¤ ë³€ìˆ˜ë¼ê³ ë„ í•œë‹¤.

```cpp
#include <iostream>

class SoSimple
{
private:
    static int simObjCnt; //ğŸŒŸ

public:
    SoSimple()
    {
        simObjCnt++;
        std::cout << simObjCnt << "ë²ˆì§¸ SoSimple ê°ì²´" << std::endl;
    }
};
int SoSimple::simObjCnt = 0; //ğŸŒŸ

class SoComplex
{
private:
    static int cmxObjCnt; //ğŸŒŸ

public:
    SoComplex()
    {
        cmxObjCnt++;
        std::cout << cmxObjCnt << "ë²ˆì§¸ SoComplex ê°ì²´" << std::endl;
    }
    SoComplex(SoComplex &copy)
    {
        cmxObjCnt++;
        std::cout << cmxObjCnt << "ë²ˆì§¸ SoComplex ê°ì²´" << std::endl;
    }
};
int SoComplex::cmxObjCnt = 0; //ğŸŒŸ

int main()
{
    SoSimple sim1;
    SoSimple sim2;

    SoComplex com1;
    SoComplex com2 = com1;
    SoComplex();

    return 0;
}

>>>
1ë²ˆì§¸ SoSimple ê°ì²´
2ë²ˆì§¸ SoSimple ê°ì²´
1ë²ˆì§¸ SoComplex ê°ì²´
2ë²ˆì§¸ SoComplex ê°ì²´
3ë²ˆì§¸ SoComplex ê°ì²´
```

### static ë©¤ë²„ ë³€ìˆ˜ì˜ ë˜ ë‹¤ë¥¸ ì ‘ê·¼ ë°©ë²•

static ë©¤ë²„ ë³€ìˆ˜ë¥¼ public ìœ¼ë¡œ ë‘ì–´ì„œ ê²°êµ­ ì–´ë””ì„œë“  ì ‘ê·¼ì´ ê°€ëŠ¥í•œ ë³€ìˆ˜ë¥¼ ë§Œë“¤ ìˆ˜ ìˆë‹¤.

```cpp
#include <iostream>

class SoSimple
{
public:
    static int simObjCnt;

public:
    SoSimple()
    {
        simObjCnt++;
    }
};
int SoSimple::simObjCnt = 0;

int main()
{
    std::cout << SoSimple::simObjCnt << "ë²ˆì§¸ SoSimple ê°ì²´" << std::endl;
    SoSimple sim1;
    SoSimple sim2;

    std::cout << SoSimple::simObjCnt << "ë²ˆì§¸ SoSimple ê°ì²´" << std::endl;
    std::cout << sim1.simObjCnt << "ë²ˆì§¸ SoSimple ê°ì²´" << std::endl;
    std::cout << sim2.simObjCnt << "ë²ˆì§¸ SoSimple ê°ì²´" << std::endl;

    return 0;
}

>>>
0ë²ˆì§¸ SoSimple ê°ì²´
2ë²ˆì§¸ SoSimple ê°ì²´
2ë²ˆì§¸ SoSimple ê°ì²´
2ë²ˆì§¸ SoSimple ê°ì²´
```

static ë³€ìˆ˜ë¥¼ public ìœ¼ë¡œ ê¶Œí•œì„ ì£¼ì—ˆê¸° ë•Œë¬¸ì— simObjCntë¥¼ main ì—ì„œë„ ì ‘ê·¼ì´ ê°€ëŠ¥í•¨ì„ ì•Œ ìˆ˜ ìˆë‹¤. ì´ë¥¼ í†µí•´ì„œ main ì—ì„œë„ ëª‡ ë²ˆì§¸ ê°ì²´ì¸ì§€ë¥¼ ì¶œë ¥í•  ìˆ˜ ìˆë‹¤.

### static ë©¤ë²„ í•¨ìˆ˜

- ì„ ì–¸ëœ í´ë˜ìŠ¤ì˜ ëª¨ë“  ê°ì²´ê°€ ê³µìœ í•œë‹¤.
- publicìœ¼ë¡œ ì„ ì–¸ì´ ë˜ë©´, í´ë˜ìŠ¤ì˜ ì´ë¦„ì„ ì´ìš©í•´ì„œ í˜¸ì¶œì´ ê°€ëŠ¥í•˜ë‹¤.
- ê°ì²´ì˜ ë©¤ë²„ë¡œ ì¡´ì¬í•˜ëŠ” ê²ƒì´ ì•„ë‹ˆë‹¤.
- static ë©¤ë²„ í•¨ìˆ˜ ë‚´ì—ì„œëŠ” static ë©¤ë²„ ë³€ìˆ˜ì™€ static ë©¤ë²„ í•¨ìˆ˜ë§Œ í˜¸ì¶œì´ ê°€ëŠ¥í•˜ë‹¤.

### const static ë©¤ë²„

const static ë©¤ë²„ ë³€ìˆ˜ëŠ” ì„ ì–¸ê³¼ ë™ì‹œì— ì´ˆê¸°í™”ê°€ ê°€ëŠ¥í•˜ë‹¤.

### í‚¤ì›Œë“œ mutable

const í•¨ìˆ˜ ë‚´ì—ì„œì˜ ê°’ì˜ ë³€ê²½ì„ ì˜ˆì™¸ì ìœ¼ë¡œ í—ˆìš©í•œë‹¤ë¼ëŠ” ì˜ë¯¸ë¥¼ ê°€ì§€ê³  ìˆë‹¤.

```cpp
#include <iostream>

class SoSimple
{
private:
    int num1;
    mutable int num2;

public:
    SoSimple(int n1, int n2) : num1(n1), num2(n2)
    {
    }
    void ShowSimpleData() const
    {
        std::cout << num1 << ", " << num2 << std::endl;
    }
    void CopyToNum2() const
    {
        num2 = num1;
    }
};

int main()
{
    SoSimple sm(1, 2);
    sm.ShowSimpleData();
    sm.CopyToNum2();
    sm.ShowSimpleData();

    return 0;
}

>>>
1, 2
1, 1
```

num2 ê°€ mutable ì´ë¯€ë¡œ const í•¨ìˆ˜ì„ì—ë„ ë¶ˆêµ¬í•˜ê³  CopyToNum2 ì—ì„œ num2ê°€ ë°”ë€” ìˆ˜ ìˆë‹¤. í•˜ì§€ë§Œ ì ì–´ë„ num1 ì€ ë³€í•  ìˆ˜ ì—†ë‹¤.
